document.getElementById("bitcoinForm").addEventListener("submit",function(n){n.preventDefault();var i=n.target,r=new FormData(i),t={};r.forEach((n,i)=>{t[i]=n});fetch("/Bitcoin/GetBitcoinPrice",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(n=>n.json()).then(n=>{var t=document.getElementById("result");if(n.success){const r=document.querySelector(".element"),i=document.createElement("iframe");i.src="https://lottie.host/embed/31e3a97c-2bec-453f-acdf-741f597ed546/9IX32tADqW.json";i.style.width="55vw";i.style.height="35vh";i.style.border="none";i.style.position="absolute";i.style.top="50%";i.style.left="50%";i.style.transform="translate(-50%, -50%)";i.style.display="none";document.body.appendChild(i);r.classList.add("shrink");const f=`
                <div class="mb-0 result-content">
                    <h4 class="mt-3">Quantidade comprada</h4>
                    <p>${n.amount} BTC</p>

                    <div class="row justify-content-center">
                        <div class="col-4">
                            <h4 class="">Valorização</h4>
                            <p class="${n.percentage>=0?"profit":"loss"}">
                                ${n.percentage.toFixed(2)} %
                            </p>
                        </div>

                        <div class="col-4">
                            <h4 class="">Lucro R$</h4>
                            <p class="${n.percentage>=0?"profit":"loss"}">
                                ${n.profit}
                            </p>
                        </div>
                    </div>
                </div>
                <div class="d-flex justify-content-center gif">
                    <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs" type="module"></script>
                    <dotlottie-player src="https://lottie.host/fbb4a9d1-1d24-4070-9e6a-0aedc8dd7837/sNJww6gjga.json" background="transparent" speed="1" style="width: 200px; height: 230px;" loop autoplay></dotlottie-player>
                </div>`,u=document.querySelector(".initial-text");u.classList.add("move-up");setTimeout(()=>{i.style.display="block",setTimeout(()=>{i.style.display="none",r.classList.remove("shrink"),r.classList.add("grow"),t.innerHTML=f,u.classList.add("move-down"),setTimeout(()=>{r.classList.remove("grow")},1e3)},2700)},500)}else t.innerHTML=`<p class="text-danger">Erro: ${n.error}</p>`}).catch(n=>{console.error("Erro:",n)})});