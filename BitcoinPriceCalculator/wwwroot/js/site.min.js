document.getElementById("bitcoinForm").addEventListener("submit",function(n){var t;n.preventDefault();var i=n.target,u=new FormData(i),r={};u.forEach((n,t)=>{r[t]=n});t=i.querySelector('button[type="submit"]');t.disabled=!0;fetch("/Bitcoin/GetBitcoinPrice",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then(n=>n.json()).then(n=>{var r=document.getElementById("result"),i;if(n.success){i=document.querySelector("iframe.animation-iframe");i&&i.remove();const f=document.querySelector(".element"),u=document.createElement("iframe");u.src="https://lottie.host/embed/5f28d8e3-c237-4dad-af92-c774bfdb6130/gwbWvm54N5.json";u.className="animation-iframe";u.style.width="55vw";u.style.height="35vh";u.style.border="none";u.style.position="absolute";u.style.top="50%";u.style.left="50%";u.style.transform="translate(-50%, -50%)";u.style.display="none";document.body.appendChild(u);f.classList.add("shrink");u.style.display="block";requestAnimationFrame(()=>{u.classList.add("show")});const o=`
                <div class="mb-0 result-content">
                    <h4 class="mt-3">Quantidade comprada</h4>
                    <p>${n.amount} BTC</p>

                    <div class="row justify-content-center">
                        <div class="col-4">
                            <h4 class="">Valorização</h4>
                            <p class="${n.percentage>=0?"profit":"loss"}">
                                ${n.percentage.toFixed(2)} %
                            </p>
                        </div>

                        <div class="col-4">
                            <h4 class="">Lucro R$</h4>
                            <p class="${n.percentage>=0?"profit":"loss"}">
                                ${n.profit}
                            </p>
                        </div>
                    </div>
                </div>`,e=document.querySelector(".initial-text");e.classList.add("move-up");setTimeout(()=>{u.classList.add("hide"),setTimeout(()=>{f.classList.remove("shrink"),f.classList.add("grow"),u.style.display="none",r.innerHTML=o,e.classList.remove("move-up"),e.classList.add("move-down"),setTimeout(()=>{f.classList.remove("grow"),t.disabled=!1},300)},1e3)},2700)}else r.innerHTML=`<p class="text-danger">Erro: ${n.error}</p>`,t.disabled=!1}).catch(n=>{console.error("Erro:",n),t.disabled=!1})});